import {
  coreServices,
  createBackendModule,
} from '@backstage/backend-plugin-api';
import { scaffolderActionsExtensionPoint } from '@backstage/plugin-scaffolder-node/alpha';
import { createAcmeExampleAction } from './actions';

/***/
/**
 * The {{id}} module for @backstage/plugin-scaffolder-backend.
 *
 * @alpha
 */
export const scaffolderModule{{id}}Action = createBackendModule({
    moduleId: 'scaffolder-backend-{{id}}',
    pluginId: 'scaffolder',
    register(env) {
      env.registerInit({
        deps: {
          scaffolder: scaffolderActionsExtensionPoint,
          config: coreServices.rootConfig,
        },
        async init({ scaffolder }) {
          scaffolder.addActions(createAcmeExampleAction());
        },
      });
    },
  })